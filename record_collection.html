<body>
    <script>
        var collection = {
            "2548": {
                "album": "Slippery When Wet",
                "artist": "Bon Jovi",
                "tracks": [
                    "Let It Rock",
                    "You Give Love A Bad Name"
                ]
            },
            "2468": {
                "album": "1999",
                "artist": "Prince",
                "tracks": [
                    "1999",
                    "Little Red Corvette"
                ]
            },
            "1245": {
                "artist": "Robert Palmer",
                "tracks": [ ]
            },
            "5439": {
                "album": "ABBA Gold"
            }
        };
        
        // Keep a copy of the collection for tests
        var collectionCopy = JSON.parse(JSON.stringify(collection));

        function updateRecords(id, prop, value) {
            // Updates the record id with the supplied property and value.
            // Pass and empty string for a property to delete the property.
            // If the property is "tracks", add the track to the end of the array.

            if (value === "") {
                delete collection[id][prop];
                return collection;
            }

            if (prop === "tracks") {
                // Set the "tracks" property to [] if it does not exist
                collection[id][prop] = collection[id][prop] || [];
                collection[id][prop].push(value);
                return collection;
            }

            collection[id][prop] = value;
            return collection;
        }

        updateRecords(2468, "tracks", "test")
        console.log(updateRecords(5439, "artist", "ABBA"));
    </script>
</body>